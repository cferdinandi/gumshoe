/*! gumshoejs v5.1.2 | (c) 2020 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gumshoe */
/*!
 * gumshoejs v5.1.2
 * A simple, framework-agnostic scrollspy script.
 * (c) 2020 Chris Ferdinandi
 * MIT License
 * http://github.com/cferdinandi/gumshoe
 */
!(function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t(e)})):"object"==typeof exports?module.exports=t(e):e.Gumshoe=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(e){"use strict";var t={navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:0,reflow:!1,events:!0,activeNavElement:"li"},n=function(e,t,n){if(n.settings.events){var o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t.dispatchEvent(o)}},o=function(e){var t=0;if(e.offsetParent)for(;e;)t+=e.offsetTop,e=e.offsetParent;return t>=0?t:0},c=function(e){e&&e.sort((function(e,t){return o(e.content)<o(t.content)?-1:1}))},i=function(t,n,o){var c=t.getBoundingClientRect(),i=(function(e){return"function"==typeof e.offset?parseFloat(e.offset()):parseFloat(e.offset)})(n);return o?parseInt(c.bottom,10)<(e.innerHeight||document.documentElement.clientHeight):parseInt(c.top,10)<=i},r=function(){return e.innerHeight+e.pageYOffset>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},s=function(e,t){var n=e[e.length-1];if(function(e,t){return!(!r()||!i(e.content,t,!0))}(n,t))return n;for(var o=e.length-1;o>=0;o--)if(i(e[o].content,t))return e[o]},a=function(e,t){return t.activeNavElement?e.closest(t.activeNavElement):e},u=function(e,t){if(t.nested&&e.parentNode){var n=a(e.parentNode,t);n&&(n.classList.remove(t.nestedClass),u(n,t))}},f=function(e,t){if(e){var o=a(e.nav,t);o&&(o.classList.remove(t.navClass),e.content.classList.remove(t.contentClass),u(o,t),n("gumshoeDeactivate",o,{link:e.nav,content:e.content,settings:t}))}},l=function(e,t){if(t.nested){var n=a(e.parentNode,t);n&&(n.classList.add(t.nestedClass),l(n,t))}};return function(o,i){var r,u,d,v,m,p={};p.setup=function(){r=document.querySelectorAll(o),u=[],Array.prototype.forEach.call(r,(function(e){var t=document.getElementById(decodeURIComponent(e.hash.substr(1)));t&&u.push({nav:e,content:t})})),c(u)},p.detect=function(){var e=s(u,m);e?d&&e.content===d.content||(f(d,m),(function(e,t){if(e){var o=a(e.nav,t);o&&(o.classList.add(t.navClass),e.content.classList.add(t.contentClass),l(o,t),n("gumshoeActivate",o,{link:e.nav,content:e.content,settings:t}))}})(e,m),d=e):d&&(f(d,m),d=null)};var h=function(t){v&&e.cancelAnimationFrame(v),v=e.requestAnimationFrame(p.detect)},g=function(t){v&&e.cancelAnimationFrame(v),v=e.requestAnimationFrame((function(){c(u),p.detect()}))};p.destroy=function(){d&&f(d,m),e.removeEventListener("scroll",h,!1),m.reflow&&e.removeEventListener("resize",g,!1),u=null,r=null,d=null,v=null,m=null};return m=(function(){var e={};return Array.prototype.forEach.call(arguments,(function(t){for(var n in t){if(!t.hasOwnProperty(n))return;e[n]=t[n]}})),e})(t,i||{}),p.setup(),p.detect(),e.addEventListener("scroll",h,!1),m.reflow&&e.addEventListener("resize",g,!1),p}}));