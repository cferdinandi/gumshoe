/*! gumshoe v3.5.1 | (c) 2018 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gumshoe */
!(function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.gumshoe=e(t)})("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";var e,n,a,o,c,i,r,s={},l="querySelector"in document&&"addEventListener"in t&&"classList"in document.createElement("_"),u=[],f={selector:"[data-gumshoe] a",selectorHeader:"[data-gumshoe-header]",container:t,offset:0,activeClass:"active",scrollDelay:!1,callback:function(){},activateAlso:function(t){return null}},d=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(n,t[a],a,t);else for(var o=0,c=t.length;o<c;o++)e.call(n,t[o],o,t)},v=function(){var t={},e=!1,n=0,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(;n<a;n++){var o=arguments[n];!(function(n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e&&"[object Object]"===Object.prototype.toString.call(n[a])?t[a]=v(!0,t[a],n[a]):t[a]=n[a])})(o)}return t},m=function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},g=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},h=function(t){var n=0;if(t.offsetParent)do{n+=t.offsetTop,t=t.offsetParent}while(t);else n=t.offsetTop;return n=n-c-e.offset,n>=0?n:0},p=function(e){var n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(t.innerHeight||document.documentElement.clientHeight)&&n.right<=(t.innerWidth||document.documentElement.clientWidth)},y=function(){u.sort((function(t,e){return t.distance>e.distance?-1:t.distance<e.distance?1:0}))};s.setDistances=function(){a=g(),c=o?m(o)+h(o):0,d(u,(function(t){t.distance=h(t.target)})),y()};var b=function(){var t=document.querySelectorAll(e.selector);d(t,(function(t){if(t.hash){var n=document.querySelector(t.hash);n&&u.push({nav:t,target:n,activateAlso:e.activateAlso&&e.activateAlso(t),parent:"li"===t.parentNode.tagName.toLowerCase()?t.parentNode:null,distance:0})}}))},L=function(){i&&(i.nav.classList.remove(e.activeClass),i.parent&&i.parent.classList.remove(e.activeClass),i.activateAlso&&i.activateAlso.classList&&i.activateAlso.classList.remove(e.activeClass))},C=function(t){L(),t.nav.classList.add(e.activeClass),t.parent&&t.parent.classList.add(e.activeClass),t.activateAlso&&t.activateAlso.classList&&t.activateAlso.classList.add(e.activeClass),e.callback(t),i={nav:t.nav,parent:t.parent,activateAlso:t.activateAlso}};s.getCurrentNav=function(){var n=t.pageYOffset;if(t.innerHeight+n>=a&&p(u[0].target))return C(u[0]),u[0];for(var o=0,c=u.length;o<c;o++){var i=u[o];if(i.distance<=n)return C(i),i}L(),e.callback()};var H=function(){d(u,(function(t){t.nav.classList.contains(e.activeClass)&&(i={nav:t.nav,parent:t.parent})}))};s.destroy=function(){e&&(e.container.removeEventListener("resize",E,!1),e.container.removeEventListener("scroll",E,!1),u=[],e=null,n=null,a=null,o=null,c=null,i=null,r=null)};var A=function(t){window.clearTimeout(n),n=setTimeout((function(){s.setDistances(),s.getCurrentNav()}),66)},E=function(t){n||(n=setTimeout((function(){n=null,"scroll"===t.type&&s.getCurrentNav(),"resize"===t.type&&(s.setDistances(),s.getCurrentNav())}),66))};return s.init=function(t){l&&(s.destroy(),e=v(f,t||{}),o=document.querySelector(e.selectorHeader),b(),0!==u.length&&(H(),s.setDistances(),s.getCurrentNav(),e.container.addEventListener("resize",E,!1),e.scrollDelay?e.container.addEventListener("scroll",A,!1):e.container.addEventListener("scroll",E,!1)))},s}));